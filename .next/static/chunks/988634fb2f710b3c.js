(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,a)=>{t.exports=e.r(76562)},65398,e=>{"use strict";var t=e.i(43476),a=e.i(18566),s=e.i(71645),i=e.i(4421);function n(){let e=(0,a.useRouter)(),[n,l]=(0,s.useState)(""),[r,o]=(0,s.useState)(""),[u,c]=(0,s.useState)(!1),[d,p]=(0,s.useState)(null),x=(0,i.getSessionUser)();return(0,t.jsx)("main",{className:"bpfx-main",children:(0,t.jsx)("div",{className:"bpfx-wrap",children:(0,t.jsxs)("div",{className:"bpfx-panel",style:{maxWidth:720,margin:"80px auto"},children:[(0,t.jsx)("h2",{className:"bpfx-panelTitle",children:"New Insight"}),(0,t.jsx)("p",{className:"bpfx-panelText",children:"Write a clear judgment. You can bind it to a league later."}),(0,t.jsxs)("div",{className:"bpfx-stack",style:{marginTop:16},children:[(0,t.jsx)("input",{className:"bpfx-input",placeholder:"Title",value:n,onChange:e=>l(e.target.value),disabled:u}),(0,t.jsx)("textarea",{className:"bpfx-textarea",placeholder:"Write your judgment...",rows:6,value:r,onChange:e=>o(e.target.value),disabled:u})]}),d&&(0,t.jsx)("div",{style:{color:"#d33",marginTop:12},children:d}),(0,t.jsxs)("div",{className:"bpfx-row",style:{justifyContent:"flex-end",marginTop:24},children:[(0,t.jsx)("button",{className:"bpfx-btn bpfx-btnGhost",onClick:function(){e.push("/")},disabled:u,children:"Cancel"}),(0,t.jsx)("button",{className:"bpfx-btn bpfx-btnPrimary",onClick:function(){if(!x){alert("Login required to post an insight."),e.push("/auth/login");return}if(!n.trim())return void p("Title is required.");if(!r.trim())return void p("Content cannot be empty.");c(!0),p(null);let t=(0,i.createInsight)({title:n,body:r});if(!t.ok){c(!1),p(t.error??"Failed to create insight.");return}e.push("/")},disabled:u,children:u?"Posting...":"Post"})]})]})})})}e.s(["default",()=>n])}]);